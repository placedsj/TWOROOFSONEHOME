## 2024-05-18 - [CRITICAL] Hardcoded Environment Variables Exposed via Vite Config
**Vulnerability:** The `vite.config.ts` was utilizing `loadEnv` and injecting secrets (`GEMINI_API_KEY`) directly into the frontend bundle using the `define` configuration: `'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY)`. This means anyone inspecting the client-side JavaScript bundle could extract the raw API keys.
**Learning:** Build tools like Vite execute in a Node environment, meaning they have access to server-side variables (e.g. via `.env`). However, explicitly injecting them into the client source via `define` hardcodes the values into the distributed `.js` files. The application functions entirely on mock data, making the API key injection an unnecessary security liability.
**Prevention:** Never use the `define` block in build configurations (like Vite or Webpack) to inject sensitive secrets or API keys that should remain server-side. For public frontends, API calls should be proxied through a backend service that holds the secure keys, rather than embedding them directly in client code.
